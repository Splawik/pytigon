/*! bootmetro 2013-06-18 */
!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=c,this.$groups=a(".panorama-sections .panorama-section"),this.$current=0,this.init()};b.prototype={init:function(){var b=this;this.$element.height(this.$element.parent().height()-a("#nav-bar").outerHeight()),b.resize(),this.options.mousewheel&&a(".panorama-sections").mousewheel(function(a,c){c>0?b.prev():b.next()}),this.options.arrangetiles&&a(".panorama-sections .panorama-section").each(function(){}),this.options.parallax&&a("body").addClass("panorama-parallax"),this.options.showscrollbuttons?(a(".panorama-sections"),a("#panorama-scroll-prev").click(function(a){a.preventDefault(),b.prev()}),a("#panorama-scroll-next").click(function(a){a.preventDefault(),b.next()})):(a("#panorama-scroll-prev").hide(),a("#panorama-scroll-next").hide()),a(".panorama").swipe({swipe:function(a,c){"right"==c&&b.prev(),"left"==c&&b.next()},threshold:0}),b.setButtons(),this.options.keyboard&&a(document).on("keyup",function(a){37==a.which&&b.prev(),39==a.which&&b.next()})},next:function(){var b=this;this.$current++,this.$current>=this.$groups.length&&(this.$current=this.$groups.length-1);var c=a(".panorama-sections"),d=a(this.$groups[this.$current]).position().left;this.options.parallax&&a.support.transition&&a("body").css("background-position",d/2+"px 0px"),c.animate({marginLeft:-d},{duration:200,easing:"swing",complete:function(){b.setButtons()}})},prev:function(){var b=this;this.$current--,this.$current<0&&(this.$current=0);var c=a(".panorama-sections"),d=a(this.$groups[this.$current]).position().left;this.options.parallax&&a.support.transition&&a("body").css("background-position",d/2+"px 0px"),c.animate({marginLeft:-d},{duration:200,easing:"swing",complete:function(){b.setButtons()}})},resize:function(){var b=0;a(".panorama-sections .panorama-section").each(function(c,d){b+=a(d).outerWidth(!0)}),a(".panorama-sections").width(b).height(this.$element.parent().height())},setButtons:function(){return this.options.showscrollbuttons?(0===this.$current?a("#panorama-scroll-prev").hide():a("#panorama-scroll-prev").show(),this.$current===this.$groups.length-1?a("#panorama-scroll-next").hide():a("#panorama-scroll-next").show(),void 0):!1}},a.fn.panorama=function(c){return this.each(function(){var d=a(this),e=d.data("panorama"),f=a.extend({},a.fn.panorama.defaults,"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e?g&&e[g]():d.data("panorama",e=new b(this,f))})},a.fn.panorama.defaults={showscrollbuttons:!0,parallax:!1,keyboard:!0,mousewheel:!0,arrangetiles:!0},a.fn.panorama.Constructor=b}(window.jQuery);