'use strict';import{AssertionError,AttributeError,BaseException,DeprecationWarning,Exception,IndexError,IterableError,KeyError,NotImplementedError,RuntimeWarning,StopIteration,UserWarning,ValueError,Warning,__JsIterator__,__PyIterator__,__Terminal__,__add__,__and__,__call__,__class__,__envir__,__eq__,__floordiv__,__ge__,__get__,__getcm__,__getitem__,__getslice__,__getsm__,__gt__,__i__,__iadd__,__iand__,__idiv__,__ijsmod__,__ilshift__,__imatmul__,__imod__,__imul__,__in__,__init__,__ior__,__ipow__,
__irshift__,__isub__,__ixor__,__jsUsePyNext__,__jsmod__,__k__,__kwargtrans__,__le__,__lshift__,__lt__,__matmul__,__mergefields__,__mergekwargtrans__,__mod__,__mul__,__ne__,__neg__,__nest__,__or__,__pow__,__pragma__,__proxy__,__pyUseJsNext__,__rshift__,__setitem__,__setproperty__,__setslice__,__sort__,__specialattrib__,__sub__,__super__,__t__,__terminal__,__truediv__,__withblock__,__xor__,abs,all,any,assert,bool,bytearray,bytes,callable,chr,copy,deepcopy,delattr,dict,dir,divmod,enumerate,filter,float,
getattr,hasattr,input,int,isinstance,issubclass,len,list,map,max,min,object,ord,pow,print,property,py_TypeError,py_iter,py_metatype,py_next,py_reversed,py_typeof,range,repr,round,set,setattr,sorted,str,sum,tuple,zip}from"./org.transcrypt.__runtime__.js";var __name__="widget";export var humanFileSize=function(bytes,si){if(si)var thresh=1E3;else var thresh=1024;if(Math.abs(bytes)<thresh)return tuple([bytes+" B",0]);if(si)var units=["kB","MB","GB","TB","PB","EB","ZB","YB"];else var units=["KiB","MiB",
"GiB","TiB","PiB","EiB","ZiB","YiB"];var u=-1;while(true){bytes/=thresh;u++;if(!(Math.abs(bytes)>=thresh&&u<units.length-1))break}return tuple([bytes.toFixed(1)+" "+units[u],u+1])};export var img_field=function(elem){var txt=jQuery(elem).val().py_replace(new RegExp("^.*[\\\\ /]"),"");jQuery(elem).closest("label").find(".upload").html(txt);if(elem.files&&elem.files[0]){var file_name=elem.files[0].name;var ext=[".jpeg",".jpg",".svg",".gif",".png"];var test=false;for(var pos of ext)if(__in__(pos,file_name.lower())){var test=
true;break}if(test){var reader=new FileReader;var _onload=function(e){var x=jQuery(elem).closest("label").find(".img");if(x.length>0)x.remove();var img=jQuery("<img class='img' />");img.insertAfter(jQuery(elem).closest("label").find("input"));img.attr("src",e.target.result)};reader.onload=_onload;reader.readAsDataURL(elem.files[0])}else{var x=jQuery(elem).closest("label").find(".img");if(x.length>0)x.remove();var __left0__=humanFileSize(elem.files[0].size,true);var size=__left0__[0];var level=__left0__[1];
var ext=elem.files[0].type+"<br><span class='size_level_"+level+"'>"+size+"</span>";var img=jQuery("<p class='img' />");img.insertAfter(jQuery(elem).closest("label").find("input"));img.html(ext)}}};window.img_field=img_field;

//# sourceMappingURL=widget.map