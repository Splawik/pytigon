<!DOCTYPE html>
<html lang="en">
<html>
    <head>
        <meta charset="utf-8">
        <title>
            Pytigon WebView loader
        </title>
        
    </head>

    <body style="background: #234">
    <img src="pytigon.svg" style="position: absolute;height:3rem"></img>
    <div id="load" style="text-align: center;">          
          <h1 style="color: gold; text-align: center; top:5px; left:5px;font-size:3rem;text-shadow: 0px 0px 10px rgba(0, 0, 0, 0.6), 4px 4px 5px rgba(0, 0, 0, 0.8); height:10rem;">Pytigon</h1>
          <img src="reload.svg" style="width:50%"></img>
    </div>
    
      
      
      
      <div id="result" >
      </div>
      
      <script>
       console.log('called!');
       var resultElem = document.getElementById('result');

       function queryFlask() {

           var request = new XMLHttpRequest();
           request.open('HEAD', 'http://127.0.0.1:8000/', true);
           request.send();
           request.onerror = function(e) {
               console.log('error!');
               console.log(e);
               resultElem.innerHTML = 'workederr';
               }
           request.onreadystatechange = function() {
               if (request.status == 500) {
                   console.log('500!!!!!');
               }
               if (request.readyState == 4 & request.status == 200) {
                   resultElem.innerHTML = 'worked';
                   console.log('worked');
               } else {
                   resultElem.innerHTML = 'failed';
                   console.log(request.status);
                   console.log('done');
               }


           }
       }

       /* window.setInterval(queryFlask, 500); */
       /* window.setTimeout(function() {location.replace('http://127.0.0.1:5000/')}, 1000) */
      </script>

    </body>

</html> 
